---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Análise de Crédito

<!-- badges: start -->
<!-- badges: end -->
#### O objetivo desse estudo consiste na análise dos dados para concessão de empréstimo. 
##### Etapas: 
##### 1 - Análise exploratória do conjunto de dados. 


##### Pacotes utilizados na análise
```{r message=FALSE}
library(odbc)
library(tidyverse)
library(questionr)
library(knitr)


```



```{r include=FALSE}
con <- dbConnect(odbc(),
                 Driver = "ODBC Driver 17 for SQL Server",
                 Server = "VINIPC",
                 Database = "projetobank",
                 UID = "sa",
                 PWD = '2510@vini',
                 Port = 8070)

```


##### Estabelecendo conexão com o banco de dados SQL Server 2017, para extração/leitura dos dados. 

```{r eval = FALSE}
con <- dbConnect(odbc(),
                 Driver = "ODBC Driver 17 for SQL Server",
                 Server = "##",
                 Database = "projetobank",
                 UID = "##",
                 PWD = '##',
                 Port ='##')
```


##### Carregando os dados do banco pro R. 

```{r}

df_bank_train <- dbGetQuery(con, 'SELECT * FROM bank_train')

```

##### Ajustando os nomes das variáveis
```{r}

df_bank_train <-  janitor::clean_names(df_bank_train)

```

##### Info dos dados
```{r}

glimpse(df_bank_train)
```

##### Existem dados faltantes no conjunto de dados? 
```{r}
freq.na(df_bank_train)

```

##### Como a maior parte das variáveis apresenta 514 dados faltantes, verifiquei se são linhas inteiras de NA. 
##### Visto que o teste resultou em um conjunto de dados faltantes uniformes, optei pelo descarte. 
##### A tabela abaixo representa o novo conjunto de dados.   
```{r, include=FALSE}
questionr::freq.na(df_bank_train %>% 
  filter(is.na(loan_id)))


```

 

```{r}
df_bank_train <- df_bank_train %>% 
                 filter(!is.na(loan_id))

freq.na(df_bank_train)
```


##### Após esse filtro ficamos com dados ausentes nas variáveis 
###### 53% months_since_last_delinquent (Meses desde a última inadimplência)
###### 19% credit_score (score de crédito)
###### 19% annual_income (renda anual)
###### 204 obs. bankruptcies (falência)
###### 10 obs. tax_liens (linhas de impostos)
###### 2 obs. maximum_open_credit (abertura máxima de crédito)


















